# @ctrip/eslint-config-cruise

å›¢é˜Ÿç»Ÿä¸€çš„ä»£ç è§„èŒƒå·¥å…·é›†ï¼ŒåŒ…å« ESLintã€Prettier å’Œ Git Commit è§„èŒƒé…ç½®ã€‚

## ğŸ“‹ åŠŸèƒ½ç‰¹æ€§

- âœ¨ ESLint é…ç½®ï¼šä»£ç è´¨é‡æ£€æŸ¥å’Œæœ€ä½³å®è·µ
- ğŸ¨ Prettier é…ç½®ï¼šç»Ÿä¸€çš„ä»£ç æ ¼å¼åŒ–è§„åˆ™
- ğŸ“ Commit è§„èŒƒï¼šæ ‡å‡†åŒ–çš„ Git æäº¤ä¿¡æ¯
- ğŸ”§ æ¨¡å—åŒ–çš„è§„åˆ™é…ç½®ï¼šrequiredã€recommendedã€optional ä¸‰ä¸ªçº§åˆ«
- ğŸš€ å³æ’å³ç”¨ï¼šæœ€å°åŒ–é…ç½®å³å¯ä½¿ç”¨
- ğŸ›  å®Œæ•´çš„ TypeScript æ”¯æŒ
- âš›ï¸ React/JSX è§„åˆ™æ”¯æŒ

## ğŸ¯ é¡¹ç›®ç›®æ ‡

- ç»Ÿä¸€å›¢é˜Ÿä»£ç é£æ ¼ï¼Œæé«˜ä»£ç å¯è¯»æ€§
- å‡å°‘ä»£ç å®¡æŸ¥ä¸­å…³äºæ ¼å¼çš„è®¨è®º
- é™ä½é¡¹ç›®ç»´æŠ¤æˆæœ¬
- æå‡å›¢é˜Ÿå¼€å‘æ•ˆç‡
- å‡å°‘æ½œåœ¨ bug
- è§„èŒƒåŒ– Git æäº¤è®°å½•

## ğŸ“¦ å®‰è£…

```bash
# ä½¿ç”¨ npm
npm install --save-dev @ctrip/eslint-config-cruise

# ä½¿ç”¨ yarn
yarn add -D @ctrip/eslint-config-cruise
```

## ğŸ”§ ä½¿ç”¨æ–¹æ³•

### å¿«é€Ÿè®¾ç½®

```bash
# å®‰è£…ä¾èµ–
npm install --save-dev @ctrip/eslint-config-cruise

# è¿è¡Œè‡ªåŠ¨è®¾ç½®è„šæœ¬
npx setup-lint-config
```

è¿™ä¸ªè„šæœ¬ä¼šè‡ªåŠ¨ï¼š

- å®‰è£…å¹¶é…ç½® husky
- è®¾ç½® Git hooks
- é…ç½® lint-staged
- æ›´æ–° package.json

### æ‰‹åŠ¨è®¾ç½®

### ESLint é…ç½®

åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `.eslintrc.js`ï¼š

```javascript
module.exports = {
  extends: ["@ctrip/eslint-config-cruise "],
  rules: {
    // è‡ªå®šä¹‰è§„åˆ™ï¼ˆå¯é€‰ï¼‰
  },
};
```

### Prettier é…ç½®

åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `.prettierrc.js`ï¼š

```javascript
module.exports = require("@ctrip/eslint-config-cruise /prettier");
```

### Git Commit è§„èŒƒ

1. å®‰è£…å¿…è¦ä¾èµ–ï¼š

```bash
npm install --save-dev @commitlint/cli husky
```

2. åˆ›å»º `commitlint.config.js`ï¼š

```javascript
module.exports = require("@ctrip/eslint-config-cruise /commitlint");
```

3. é…ç½® huskyï¼š

```bash
# åˆå§‹åŒ– husky
npx husky install

# æ·»åŠ  commit-msg hook
npx husky add .husky/commit-msg 'npx --no -- commitlint --edit "$1"'
```

4. åœ¨ package.json ä¸­æ·»åŠ ï¼š

```json
{
  "scripts": {
    "prepare": "husky install"
  }
}
```

## ğŸ“ è§„åˆ™è¯´æ˜

### ESLint è§„åˆ™çº§åˆ«

1. **Required (å¿…é¡»çš„)**

- ä»£ç è´¨é‡ç›¸å…³çš„å¼ºåˆ¶è§„åˆ™
- å¯èƒ½å¯¼è‡´é”™è¯¯çš„å®è·µ
- TypeScript ç±»å‹æ£€æŸ¥è§„åˆ™

2. **Recommended (æ¨èçš„)**

- ä»£ç é£æ ¼å»ºè®®
- æœ€ä½³å®è·µæŒ‡å¯¼
- æ€§èƒ½ä¼˜åŒ–å»ºè®®

3. **Optional (å¯é€‰çš„)**

- çµæ´»çš„ç¼–ç é£æ ¼è§„åˆ™
- ç‰¹å®šåœºæ™¯çš„è§„åˆ™
- å¯ç”±å›¢é˜Ÿè‡ªè¡Œå†³å®šçš„è§„åˆ™

### Prettier é…ç½®

ä¸»è¦æ ¼å¼åŒ–è§„åˆ™åŒ…æ‹¬ï¼š

- è¡Œå®½é™åˆ¶ï¼š80 å­—ç¬¦
- ä½¿ç”¨å•å¼•å·
- ä½¿ç”¨ 2 ç©ºæ ¼ç¼©è¿›
- å¥æœ«ä½¿ç”¨åˆ†å·
- å¯¹è±¡å±æ€§ä½¿ç”¨å°¾éšé€—å·
- JSX ä½¿ç”¨å•å¼•å·

### Commit æ¶ˆæ¯æ ¼å¼

```bash
type(scope?): subject

[optional body]

[optional footer(s)]
```

#### ç±»å‹è¯´æ˜

- `feat`: æ–°åŠŸèƒ½
- `fix`: Bug ä¿®å¤
- `docs`: æ–‡æ¡£æ›´æ–°
- `style`: ä»£ç æ ¼å¼è°ƒæ•´
- `refactor`: ä»£ç é‡æ„
- `perf`: æ€§èƒ½ä¼˜åŒ–
- `test`: æµ‹è¯•ç›¸å…³
- `chore`: æ„å»º/å·¥å…·é“¾/ä¾èµ–æ›´æ–°
- `revert`: å›æ»šæäº¤
- `build`: æ„å»ºç›¸å…³

## ğŸŒŸ é¢„æœŸæ”¶ç›Š

### å›¢é˜Ÿå±‚é¢

- ç»Ÿä¸€çš„ä»£ç é£æ ¼æå‡å›¢é˜Ÿåä½œæ•ˆç‡
- å‡å°‘ä»£ç å®¡æŸ¥æ—¶é—´
- é™ä½æ²Ÿé€šæˆæœ¬
- æé«˜ä»£ç è´¨é‡

### å¼€å‘å±‚é¢

- è‡ªåŠ¨åŒ–çš„ä»£ç æ ¼å¼åŒ–
- å³æ—¶çš„é”™è¯¯æç¤º
- è§„èŒƒçš„æäº¤ä¿¡æ¯
- æ›´å¥½çš„å¼€å‘ä½“éªŒ

### é¡¹ç›®å±‚é¢

- æé«˜ä»£ç å¯ç»´æŠ¤æ€§
- å‡å°‘æ½œåœ¨ bug
- ä¾¿äºæ–°æˆå‘˜å¿«é€Ÿæ¥å…¥
- æå‡é¡¹ç›®è´¨é‡

## ğŸ’¡ æœ€ä½³å®è·µ

1. **ç¼–è¾‘å™¨é…ç½®**

- ä½¿ç”¨ VSCode çš„ ESLint å’Œ Prettier æ’ä»¶
- é…ç½®ä¿å­˜æ—¶è‡ªåŠ¨æ ¼å¼åŒ–
- å¼€å¯ç¼–è¾‘å™¨çš„ ESLint æç¤º

VSCode ä¼šè‡ªåŠ¨æç¤ºå®‰è£…æ¨èçš„æ’ä»¶ï¼ŒåŒ…æ‹¬ï¼š

- ESLint: ä»£ç æ£€æŸ¥
- Prettier: ä»£ç æ ¼å¼åŒ–
- EditorConfig: ç¼–è¾‘å™¨é…ç½®
- Code Spell Checker: æ‹¼å†™æ£€æŸ¥
- Auto Rename Tag: è‡ªåŠ¨é‡å‘½åæ ‡ç­¾
- Auto Close Tag: è‡ªåŠ¨é—­åˆæ ‡ç­¾
- Path Intellisense: è·¯å¾„æ™ºèƒ½æç¤º
- NPM Intellisense: npm æ¨¡å—æ™ºèƒ½æç¤º

æ‰€æœ‰ç¼–è¾‘å™¨é…ç½®éƒ½å·²é¢„è®¾å¥½ï¼ŒåŒ…æ‹¬ï¼š

- ä¿å­˜æ—¶è‡ªåŠ¨æ ¼å¼åŒ–
- ä¿å­˜æ—¶è‡ªåŠ¨ä¿®å¤ ESLint é”™è¯¯
- TypeScript æ™ºèƒ½æç¤º
- æ–‡ä»¶ç±»å‹å…³è”

2. **Git å·¥ä½œæµ**

- æäº¤å‰è¿›è¡Œ lint æ£€æŸ¥
- éµå¾ª commit æ¶ˆæ¯è§„èŒƒ
- ä½¿ç”¨ husky å¼ºåˆ¶æ‰§è¡Œè§„èŒƒ

3. **å›¢é˜Ÿåä½œ**

- ç»Ÿä¸€ä½¿ç”¨æ­¤é…ç½®
- åœ¨ code review ä¸­æ£€æŸ¥è§„èŒƒæ‰§è¡Œæƒ…å†µ
- å®šæœŸæ›´æ–°å’Œç»´æŠ¤è§„åˆ™

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯
3. æäº¤æ”¹åŠ¨
4. æ¨é€åˆ°åˆ†æ”¯
5. åˆ›å»º Pull Request
